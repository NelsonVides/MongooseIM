
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.8">
    
    
      
        <title>mod_jingle_sip - MongooseIM</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/custom.css">
    
      <link rel="stylesheet" href="../../css/version-select.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#module-description" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="MongooseIM" class="md-header-nav__button md-logo" aria-label="MongooseIM">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            MongooseIM
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              mod_jingle_sip
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MongooseIM" class="md-nav__button md-logo" aria-label="MongooseIM">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    MongooseIM
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
      
      <label class="md-nav__link" for="nav-2">
        User guide
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="User guide" data-md-level="1">
        <label class="md-nav__title" for="nav-2">
          <span class="md-nav__icon md-icon"></span>
          User guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/ABCs-of-MongooseIM/" class="md-nav__link">
        ABCs of MongooseIM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/MongooseIM-High-level-Architecture/" class="md-nav__link">
        High-level Architecture
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/Features-and-supported-standards/" class="md-nav__link">
        Features and supported standards
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/Getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/release_config/" class="md-nav__link">
        Release/Installation configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/Bootstrap-Scripts/" class="md-nav__link">
        Bootstrap scripts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/client-certificate/" class="md-nav__link">
        Client certificate authentication
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
      
      <label class="md-nav__link" for="nav-3">
        Tutorials
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="nav-3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/How-to-build/" class="md-nav__link">
        How to Build MongooseIM from source code
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/push-notifications/Push-notifications/" class="md-nav__link">
        How to Set up Push Notifications
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/push-notifications/Push-notifications-client-side/" class="md-nav__link">
        How to Set up Push Notifications on the client side
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/push-notifications/MongoosePush-setup/" class="md-nav__link">
        How to Set up MongoosePush
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/ICE_tutorial/" class="md-nav__link">
        How to Set up MongooseICE
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/iOS_tutorial/" class="md-nav__link">
        How to Build an iOS messaging app
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/Jingle-SIP-setup/" class="md-nav__link">
        How to Set up Jingle/SIP
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
      
      <label class="md-nav__link" for="nav-4">
        Migration Guide
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Migration Guide" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          Migration Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/3.1.1_3.2.0/" class="md-nav__link">
        3.1.1 to 3.2.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/3.3.0_3.4.0/" class="md-nav__link">
        3.3.0 to 3.4.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/3.5.0_3.6.0/" class="md-nav__link">
        3.5.0 to 3.6.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/3.6.0_3.7.0/" class="md-nav__link">
        3.6.0 to 3.7.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/3.7.0_4.0.0/" class="md-nav__link">
        3.7.0 to 4.0.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/4.0.0_4.0.1/" class="md-nav__link">
        4.0.0 to 4.0.1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/4.0.1_4.1.0/" class="md-nav__link">
        4.0.1 to 4.1.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/jid-from-mam-muc-script/" class="md-nav__link">
        MAM MUC migration helper
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
      
      <label class="md-nav__link" for="nav-5">
        Platform
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Platform" data-md-level="1">
        <label class="md-nav__title" for="nav-5">
          <span class="md-nav__icon md-icon"></span>
          Platform
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Contributions/" class="md-nav__link">
        Contributions to ecosystem
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Differentiators/" class="md-nav__link">
        Differentiators
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../History/" class="md-nav__link">
        History
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
      
      <label class="md-nav__link" for="nav-6">
        Configuration
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Configuration" data-md-level="1">
        <label class="md-nav__title" for="nav-6">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/configuration-files/" class="md-nav__link">
        Configuration files
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/general/" class="md-nav__link">
        Options: General
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/listen/" class="md-nav__link">
        Options: Listen
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/auth/" class="md-nav__link">
        Options: Auth
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/outgoing-connections/" class="md-nav__link">
        Options: Outgoing connections
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/Services/" class="md-nav__link">
        Options: Services
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/Modules/" class="md-nav__link">
        Options: Extension Modules
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/shaper/" class="md-nav__link">
        Options: Shaper
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/acl/" class="md-nav__link">
        Options: Acl
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/access/" class="md-nav__link">
        Options: Access
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/s2s/" class="md-nav__link">
        Options: S2S
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/host_config/" class="md-nav__link">
        Options: Host config
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/release-options/" class="md-nav__link">
        Release options
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/Erlang-cookie-security/" class="md-nav__link">
        Erlang Cookie Security
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/TLS-hardening/" class="md-nav__link">
        TLS hardening
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-configuration/database-backends-configuration/" class="md-nav__link">
        Database backends configuration
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" >
      
      <label class="md-nav__link" for="nav-7">
        Authentication methods
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Authentication methods" data-md-level="1">
        <label class="md-nav__title" for="nav-7">
          <span class="md-nav__icon md-icon"></span>
          Authentication methods
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-methods/rdbms/" class="md-nav__link">
        RDBMS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-methods/external/" class="md-nav__link">
        External
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-methods/anonymous/" class="md-nav__link">
        Anonymous
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-methods/ldap/" class="md-nav__link">
        LDAP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-methods/jwt/" class="md-nav__link">
        JWT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-methods/riak/" class="md-nav__link">
        Riak
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-methods/http/" class="md-nav__link">
        HTTP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-methods/pki/" class="md-nav__link">
        PKI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-methods/dummy/" class="md-nav__link">
        Dummy
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" >
      
      <label class="md-nav__link" for="nav-8">
        MongooseIM open XMPP extensions
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="MongooseIM open XMPP extensions" data-md-level="1">
        <label class="md-nav__title" for="nav-8">
          <span class="md-nav__icon md-icon"></span>
          MongooseIM open XMPP extensions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../open-extensions/muc_light/" class="md-nav__link">
        MUC light
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../open-extensions/token-reconnection/" class="md-nav__link">
        Token-based reconnection
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" >
      
      <label class="md-nav__link" for="nav-9">
        REST API
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="REST API" data-md-level="1">
        <label class="md-nav__title" for="nav-9">
          <span class="md-nav__icon md-icon"></span>
          REST API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/Client-frontend/" class="md-nav__link">
        Client/frontend
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/Metrics-backend/" class="md-nav__link">
        Metrics backend
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/Administration-backend/" class="md-nav__link">
        Administration backend
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10" >
      
      <label class="md-nav__link" for="nav-10">
        Operation and maintenance
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Operation and maintenance" data-md-level="1">
        <label class="md-nav__title" for="nav-10">
          <span class="md-nav__icon md-icon"></span>
          Operation and maintenance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/gdpr-considerations/" class="md-nav__link">
        GDPR considerations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/Cluster-management-considerations/" class="md-nav__link">
        Cluster management considerations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/Cluster-configuration-and-node-management/" class="md-nav__link">
        Cluster configuration and node management
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/Logging-%26-monitoring/" class="md-nav__link">
        Logging & monitoring
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/Logging/" class="md-nav__link">
        Logging configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/Humio/" class="md-nav__link">
        Logging with Humio
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/Logging-fields/" class="md-nav__link">
        Logging fields
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/Rolling-upgrade/" class="md-nav__link">
        Rolling upgrade
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/Cluster-restart/" class="md-nav__link">
        Cluster restart
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/MongooseIM-metrics/" class="md-nav__link">
        Metrics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/System-Metrics-Privacy-Policy/" class="md-nav__link">
        System Metrics Privacy Policy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/tls-distribution/" class="md-nav__link">
        Distribution over TLS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operation-and-maintenance/known-issues/" class="md-nav__link">
        Known issues
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" >
      
      <label class="md-nav__link" for="nav-11">
        Developer's guide
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Developer's guide" data-md-level="1">
        <label class="md-nav__title" for="nav-11">
          <span class="md-nav__icon md-icon"></span>
          Developer's guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/Testing-MongooseIM/" class="md-nav__link">
        Testing MongooseIM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/Hooks-and-handlers/" class="md-nav__link">
        Hooks and Handlers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/hooks_description/" class="md-nav__link">
        Hooks description
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/Stanza-routing/" class="md-nav__link">
        Stanza routing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/accumulators/" class="md-nav__link">
        Accumulators
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/flat_options/" class="md-nav__link">
        Flat options format
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/Moving-to-single-app-project-structure/" class="md-nav__link">
        Moving to single app project structure
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/mod_amp_developers_guide/" class="md-nav__link">
        mod_amp development
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/mod_muc_light_developers_guide/" class="md-nav__link">
        mod_muc_light developers doc
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/SCRAM-serialization/" class="md-nav__link">
        SCRAM serialization format
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/xep_tool/" class="md-nav__link">
        xep-tool usage
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/OpenSSL-and-FIPS/" class="md-nav__link">
        FIPS mode
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/Basic-iq-handler/" class="md-nav__link">
        Basic IQ Handler
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-guide/mongoose_wpool/" class="md-nav__link">
        mongoose_wpool
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12" checked>
      
      <label class="md-nav__link" for="nav-12">
        Module index
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Module index" data-md-level="1">
        <label class="md-nav__title" for="nav-12">
          <span class="md-nav__icon md-icon"></span>
          Module index
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_adhoc/" class="md-nav__link">
        mod_adhoc
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_amp/" class="md-nav__link">
        mod_amp
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_auth_token/" class="md-nav__link">
        mod_auth_token
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_blocking/" class="md-nav__link">
        mod_blocking
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_bosh/" class="md-nav__link">
        mod_bosh
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_caps/" class="md-nav__link">
        mod_caps
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_carboncopy/" class="md-nav__link">
        mod_carboncopy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_commands/" class="md-nav__link">
        mod_commands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_csi/" class="md-nav__link">
        mod_csi
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_disco/" class="md-nav__link">
        mod_disco
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12-11" type="checkbox" id="nav-12-11" >
      
      <label class="md-nav__link" for="nav-12-11">
        mod_event_pusher
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="mod_event_pusher" data-md-level="2">
        <label class="md-nav__title" for="nav-12-11">
          <span class="md-nav__icon md-icon"></span>
          mod_event_pusher
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_event_pusher/" class="md-nav__link">
        mod_event_pusher
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_event_pusher_http/" class="md-nav__link">
        HTTP backend
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_event_pusher_push/" class="md-nav__link">
        Push backend
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_event_pusher_sns/" class="md-nav__link">
        SNS backend
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_event_pusher_rabbit/" class="md-nav__link">
        RabbitMQ backend
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_extdisco/" class="md-nav__link">
        mod_extdisco
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_global_distrib/" class="md-nav__link">
        mod_global_distrib
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_http_upload/" class="md-nav__link">
        mod_http_upload
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_inbox/" class="md-nav__link">
        mod_inbox
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          mod_jingle_sip
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        mod_jingle_sip
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#module-description" class="md-nav__link">
    Module Description
  </a>
  
    <nav class="md-nav" aria-label="Module Description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jingle-to-sip-translation" class="md-nav__link">
    Jingle to SIP translation
  </a>
  
    <nav class="md-nav" aria-label="Jingle to SIP translation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ringing-notification" class="md-nav__link">
    Ringing notification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recipient-unavailable" class="md-nav__link">
    Recipient unavailable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-error-codes" class="md-nav__link">
    Other error codes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-standard-jingle-stanzas-used-by-jinglejs" class="md-nav__link">
    Non-standard Jingle stanzas used by jingle.js
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-standard-jingle-existing-session-initiate-stanza" class="md-nav__link">
    Non-standard Jingle existing-session-initiate stanza
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
    <nav class="md-nav" aria-label="Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modulesmod_jingle_sipproxy_host" class="md-nav__link">
    modules.mod_jingle_sip.proxy_host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulesmod_jingle_sipproxy_port" class="md-nav__link">
    modules.mod_jingle_sip.proxy_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulesmod_jingle_siplisten_port" class="md-nav__link">
    modules.mod_jingle_sip.listen_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulesmod_jingle_siplocal_host" class="md-nav__link">
    modules.mod_jingle_sip.local_host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulesmod_jingle_sipsdp_origin" class="md-nav__link">
    modules.mod_jingle_sip.sdp_origin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-cases-covered-by-tests" class="md-nav__link">
    Use cases covered by tests
  </a>
  
    <nav class="md-nav" aria-label="Use cases covered by tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-establishing-a-session-with-another-xmpp-user" class="md-nav__link">
    1. Establishing a session with another XMPP user
  </a>
  
    <nav class="md-nav" aria-label="1. Establishing a session with another XMPP user">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-signaling-session-initiate-to-other-xmpp-user-via-sip-proxy" class="md-nav__link">
    1.1 Signaling session-initiate to other XMPP user via SIP Proxy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-signaling-session-accept-to-other-xmpp-user-via-sip-proxy" class="md-nav__link">
    1.2 Signaling session-accept to other XMPP user via SIP Proxy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-terminating-a-call" class="md-nav__link">
    1.3 Terminating a call
  </a>
  
    <nav class="md-nav" aria-label="1.3 Terminating a call">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131-terminating-an-accepted-call" class="md-nav__link">
    1.3.1 Terminating an accepted call
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132-terminating-an-unanswered-call-by-initiator" class="md-nav__link">
    1.3.2 Terminating an unanswered call by initiator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133-rejecting-the-call" class="md-nav__link">
    1.3.3 Rejecting the call
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-establishing-a-session-with-a-sip-user" class="md-nav__link">
    2. Establishing a session with a SIP user
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_keystore/" class="md-nav__link">
        mod_keystore
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_last/" class="md-nav__link">
        mod_last
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_mam/" class="md-nav__link">
        mod_mam
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_muc/" class="md-nav__link">
        mod_muc
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_muc_commands/" class="md-nav__link">
        mod_muc_commands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_muc_log/" class="md-nav__link">
        mod_muc_log
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_muc_light/" class="md-nav__link">
        mod_muc_light
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_muc_light_commands/" class="md-nav__link">
        mod_muc_light_commands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_offline/" class="md-nav__link">
        mod_offline
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_offline_stub/" class="md-nav__link">
        mod_offline_stub
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_ping/" class="md-nav__link">
        mod_ping
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_privacy/" class="md-nav__link">
        mod_privacy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_private/" class="md-nav__link">
        mod_private
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_pubsub/" class="md-nav__link">
        mod_pubsub
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_push_service_mongoosepush/" class="md-nav__link">
        mod_push_service_mongoosepush
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_register/" class="md-nav__link">
        mod_register
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_roster/" class="md-nav__link">
        mod_roster
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_shared_roster_ldap/" class="md-nav__link">
        mod_shared_roster_ldap
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_sic/" class="md-nav__link">
        mod_sic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_stream_management/" class="md-nav__link">
        mod_stream_management
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_time/" class="md-nav__link">
        mod_time
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_vcard/" class="md-nav__link">
        mod_vcard
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mod_version/" class="md-nav__link">
        mod_version
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#module-description" class="md-nav__link">
    Module Description
  </a>
  
    <nav class="md-nav" aria-label="Module Description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jingle-to-sip-translation" class="md-nav__link">
    Jingle to SIP translation
  </a>
  
    <nav class="md-nav" aria-label="Jingle to SIP translation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ringing-notification" class="md-nav__link">
    Ringing notification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recipient-unavailable" class="md-nav__link">
    Recipient unavailable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-error-codes" class="md-nav__link">
    Other error codes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-standard-jingle-stanzas-used-by-jinglejs" class="md-nav__link">
    Non-standard Jingle stanzas used by jingle.js
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-standard-jingle-existing-session-initiate-stanza" class="md-nav__link">
    Non-standard Jingle existing-session-initiate stanza
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
    <nav class="md-nav" aria-label="Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modulesmod_jingle_sipproxy_host" class="md-nav__link">
    modules.mod_jingle_sip.proxy_host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulesmod_jingle_sipproxy_port" class="md-nav__link">
    modules.mod_jingle_sip.proxy_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulesmod_jingle_siplisten_port" class="md-nav__link">
    modules.mod_jingle_sip.listen_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulesmod_jingle_siplocal_host" class="md-nav__link">
    modules.mod_jingle_sip.local_host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulesmod_jingle_sipsdp_origin" class="md-nav__link">
    modules.mod_jingle_sip.sdp_origin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-cases-covered-by-tests" class="md-nav__link">
    Use cases covered by tests
  </a>
  
    <nav class="md-nav" aria-label="Use cases covered by tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-establishing-a-session-with-another-xmpp-user" class="md-nav__link">
    1. Establishing a session with another XMPP user
  </a>
  
    <nav class="md-nav" aria-label="1. Establishing a session with another XMPP user">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-signaling-session-initiate-to-other-xmpp-user-via-sip-proxy" class="md-nav__link">
    1.1 Signaling session-initiate to other XMPP user via SIP Proxy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-signaling-session-accept-to-other-xmpp-user-via-sip-proxy" class="md-nav__link">
    1.2 Signaling session-accept to other XMPP user via SIP Proxy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-terminating-a-call" class="md-nav__link">
    1.3 Terminating a call
  </a>
  
    <nav class="md-nav" aria-label="1.3 Terminating a call">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131-terminating-an-accepted-call" class="md-nav__link">
    1.3.1 Terminating an accepted call
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132-terminating-an-unanswered-call-by-initiator" class="md-nav__link">
    1.3.2 Terminating an unanswered call by initiator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133-rejecting-the-call" class="md-nav__link">
    1.3.3 Rejecting the call
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-establishing-a-session-with-a-sip-user" class="md-nav__link">
    2. Establishing a session with a SIP user
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>mod_jingle_sip</h1>
                
                <h2 id="module-description">Module Description</h2>
<p>This module enables Jingle to SIP and SIP to Jingle translation.
When this module is enabled, MongooseIM will intercept any Jingle IQ set stanza with action:</p>
<ul>
<li>session-initiate</li>
<li>session-terminate</li>
<li>session-accept</li>
<li>transport-info</li>
</ul>
<p>and translate it to SIP messages with appropriate SDP content based on the details in the Jingle stanza.</p>
<p>The translation back from SIP to Jingle is done for the following SIP requests:</p>
<ul>
<li><code>INVITE</code></li>
<li><code>re-INVITE</code> - <code>INVITE</code> message sent for an accepted session</li>
<li><code>CANCEL</code></li>
<li><code>BYE</code></li>
<li><code>INFO</code></li>
</ul>
<p>and following responses to the INVITE request:</p>
<ul>
<li><code>200</code> when the call invite was accepted</li>
<li><code>180</code> and <code>183</code> to indicate that the invitation was sent to the device</li>
<li><code>486</code> when the call's recipient rejects it</li>
<li>from <code>400</code> to <code>600</code> - other error codes indicating session termination</li>
</ul>
<h3 id="jingle-to-sip-translation">Jingle to SIP translation</h3>
<p>The table below summarises the bilateral translation for standard Jingle and SIP messages:</p>
<table>
<thead>
<tr>
<th>Jingle action</th>
<th>SIP message</th>
<th>comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>session-initiate</code></td>
<td><code>INVITE</code> request</td>
<td></td>
</tr>
<tr>
<td><code>session-accept</code></td>
<td><code>200 OK</code> response</td>
<td></td>
</tr>
<tr>
<td><code>session-terminate</code> with reason <code>success</code></td>
<td><code>BYE</code> request</td>
<td>Only for accepted session</td>
</tr>
<tr>
<td><code>session-terminate</code> with reason <code>decline</code></td>
<td><code>CANCEL</code> request</td>
<td>When sent by call's initiator</td>
</tr>
<tr>
<td><code>session-terminate</code> with reason <code>decline</code></td>
<td><code>486 Busy Here</code> response</td>
<td>When sent by the invite user</td>
</tr>
<tr>
<td><code>transport-info</code></td>
<td><code>INFO</code> request</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="ringing-notification">Ringing notification</h4>
<p>Both Jingle and SIP have the <code>ringing</code> notification.
It's generated as a response code <code>180 Ringing</code> by a SIP entity when the INVITE is sent to the device.
In SIP world a <code>183 Session Progress</code> response code is also generated in some cases.
Both <code>180</code> and <code>183</code> codes are translated as <code>session-info</code> Jingle stanza with <code>ringing</code> sub element.
MongooseIM generates only <code>180 Ringing</code> response code the <code>INVITE</code> request, if the recipient's online.
If the recipient is online, MongooseIM generates the <code>180 Ringing</code> response code to the <code>INVITE</code> request.</p>
<h4 id="recipient-unavailable">Recipient unavailable</h4>
<p>When MongooseIM receives a SIP <code>INVITE</code> request addressed to an offline user,
it replies with a <code>480 Temporarily Unavailable</code> code.
The same code is expected from the SIP Proxy when MongooseIM sends the <code>INVITE</code> request.</p>
<h4 id="other-error-codes">Other error codes</h4>
<p>When an error response to the <code>INVITE</code> request is from the range <code>400</code> to <code>699</code> but not <code>486</code>,
MongooseIM will send a Jingle <code>session-terminate</code> stanza to the call's initiator.
The stanza has reason <code>general-error</code> with the SIP error code in the <code>sip-error</code> sub element.</p>
<h4 id="non-standard-jingle-stanzas-used-by-jinglejs">Non-standard Jingle stanzas used by jingle.js</h4>
<p>The following non-standard Jingle stanzas were integrated with <a href="https://github.com/softwarehutpl/jingle.js">Jingle.js</a>:</p>
<ul>
<li><code>source-remove</code></li>
<li><code>source-add</code></li>
<li><code>source-update</code></li>
</ul>
<p>When MongooseIM observes the above Jingle stanzas, it will translate them to a SIP in-dialog <code>INVITE</code> request.
In the SDP content of the request, there will be a custom attribute <code>a=jingle-action</code>.
The value of the custom attribute is one of the three presented above.</p>
<p>Similarly when MongooseIM gets a SIP in-dialog <code>INVITE</code> request,
it will check if there is a custom attribute and use it as the <code>action</code> attribute of the Jingle stanza sent to the user.
If there is no such attribute, the action will be set to regular Jingle <code>transport-info</code>.</p>
<h4 id="non-standard-jingle-existing-session-initiate-stanza">Non-standard Jingle existing-session-initiate stanza</h4>
<p>MongooseIM allows a user to ask for an unanswered <code>session-initiate</code> request.
This may be useful in web applications when there is a need to handle the call in a new browser window.</p>
<p>In order to get the <code>session-initiate</code>, which was not answered yet, the user can send a <code>get</code> Jingle stanza to self with action set to <code>existing-session-initiate</code>.
As a result, MongooseIM will resend the original <code>session-initiate</code> request to the device which sent the query.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>By default, MongooseIM is built without SIP support.
In order to build the server with SIP support, please use <code>tools/configure</code> script before the release generation.
You may either pick only certain drivers (with SIP included) or simply use <code>with-all</code> option. Examples:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>tools/configure with-mysql with-jingle-sip
tools/configure with-all without-odbc
tools/configure with-all
</code></pre></div>
</td></tr></table>
<p>MongooseIM packages are built with Jingle/SIP support.</p>
<h2 id="options">Options</h2>
<h3 id="modulesmod_jingle_sipproxy_host"><code>modules.mod_jingle_sip.proxy_host</code></h3>
<ul>
<li><strong>Syntax:</strong> string</li>
<li><strong>Default:</strong> <code>"localhost"</code></li>
<li><strong>Example:</strong> <code>proxy_host = "localhost"</code></li>
</ul>
<p>The name or IP address of the SIP Proxy to which MongooseIM will send SIP messages.</p>
<h3 id="modulesmod_jingle_sipproxy_port"><code>modules.mod_jingle_sip.proxy_port</code></h3>
<ul>
<li><strong>Syntax:</strong> non-negative integer</li>
<li><strong>Default:</strong> <code>5600</code></li>
<li><strong>Example:</strong> <code>proxy_port = 5600</code></li>
</ul>
<p>The port of the SIP Proxy.</p>
<h3 id="modulesmod_jingle_siplisten_port"><code>modules.mod_jingle_sip.listen_port</code></h3>
<ul>
<li><strong>Syntax:</strong> non-negative integer</li>
<li><strong>Default:</strong> <code>5600</code></li>
<li><strong>Example:</strong> <code>listen_port = 5600</code></li>
</ul>
<p>The port on which MongooseIM will listen for incomming SIP messages.</p>
<h3 id="modulesmod_jingle_siplocal_host"><code>modules.mod_jingle_sip.local_host</code></h3>
<ul>
<li><strong>Syntax:</strong> string</li>
<li><strong>Default:</strong> <code>"127.0.0.1"</code></li>
<li><strong>Example:</strong> <code>local_host = "localhost"</code></li>
</ul>
<p>The value used to create SIP URIs (including VIA headers).</p>
<h3 id="modulesmod_jingle_sipsdp_origin"><code>modules.mod_jingle_sip.sdp_origin</code></h3>
<ul>
<li><strong>Syntax:</strong> string</li>
<li><strong>Default:</strong> <code>"127.0.0.1"</code></li>
<li><strong>Example:</strong> <code>sdp_origin = "127.0.0.1"</code></li>
</ul>
<p>The value of the <code>c=</code> SDP attribute.</p>
<p>The simplest configuration is the following:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">[modules.mod_jingle_sip]</span>
</code></pre></div>
</td></tr></table>
<p>With this configuration MongooseIM will try sending SIP messages to a SIP proxy listening on localhost and port 5600.</p>
<h2 id="use-cases-covered-by-tests">Use cases covered by tests</h2>
<p>Currently to test the functionality we use a SIP Proxy mock written in Erlang.
The following scenarios are covered by our tests in <code>big_tests/tests/jingle_SUITE.erl</code></p>
<p>All the sequence diagrams where generated with <a href="https://textart.io/sequence">textart.io/sequence</a>.
The source code is embedded in the markdown file below every diagram inside a comment <code>&lt;!--- ---&gt;</code></p>
<h3 id="1-establishing-a-session-with-another-xmpp-user">1. Establishing a session with another XMPP user</h3>
<p>With the mod_jingle_sip enabled, all Jingle IQ set stanzas listed above are intercepted, translated to SIP packets and sent to a SIP Proxy.
This means that the current implementation will also translate stanzas addressed to a user in the same domain.
This allows the SIP entity to control how the call between XMPP users is established.
Below there are sequence diagrams showing the communication between XMPP users, MongooseIM and SIP Proxy as in our tests.
It's possible that the SIP Proxy or other SIP entity decides that the call needs to be forked
and delivered to the user's phone number instead of generating a corresponding call back to MongooseIM.</p>
<h4 id="11-signaling-session-initiate-to-other-xmpp-user-via-sip-proxy">1.1 Signaling session-initiate to other XMPP user via SIP Proxy</h4>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>+-------+                       +-------------+       +-----------+                   +-------+
| UserA |                       | MongooseIM  |       | SIPProxy  |                   | UserB |
+-------+                       +-------------+       +-----------+                   +-------+
    |                                  |                    |                             |
    | session-initiate to UserB        |                    |                             |
    |---------------------------------&gt;|                    |                             |
    | -------------------------\       |                    |                             |
    |-| Jingle stanza          |       |                    |                             |
    | | action:session-initate |       |                    |                             |
    | | sid: 123               |       |                    |                             |
    | |------------------------|       | SIP INVITE         |                             |
    |                                  |-------------------&gt;|                             |
    |                                  | -------------\     |                             |
    |                                  |-| from:UserA |     |                             |
    |                                  | | to:UserB   |     |                             |
    |                                  | | sid: 123   |     |                             |
    |                                  | |------------|     | create new call             |
    |                                  |                    |----------------             |
    |                                  |                    |               |             |
    |                                  |                    |&lt;---------------             |
    |                                  |                    | ------------------------\   |
    |                                  |                    |-| SDP content can be    |   |
    |                                  |                    | | changed for instance  |   |
    |                                  |                    | | to inject a transport |   |
    |                                  |         SIP INVITE | | canidate              |   |
    |                                  |&lt;-------------------| |-----------------------|   |
    |                                  |     -------------\ |                             |
    |                                  |     | from:UserA |-|                             |
    |                                  |     | to:UserB   | |                             |
    |            --------------------\ |     | sid:456    | |                             |
    |            | yes, new SID: 456 |-|     |------------| |                             |
    |            |-------------------| |                    |                             |
    |                                  |                    |                             |
    |                                  | session-initiate to UserB                        |
    |                                  |-------------------------------------------------&gt;|
    |                                  |                    |                             |
</code></pre></div>
</td></tr></table>
<!---
object UserA MongooseIM SIPProxy UserB
UserA->MongooseIM: session-initiate to UserB
note right of UserA: Jingle stanza \n action:session-initate\nsid: 123
MongooseIM->SIPProxy: SIP INVITE
note right of MongooseIM: from:UserA\nto:UserB\nsid: 123
SIPProxy->SIPProxy: create new call
note right of SIPProxy: SDP content can be\nchanged for instance\n to inject a transport\n canidate
SIPProxy->MongooseIM: SIP INVITE
note left of SIPProxy: from:UserA\nto:UserB\nsid:456
note left of MongooseIM: yes, new SID: 456
MongooseIM->UserB: session-initiate to UserB
-->

<h4 id="12-signaling-session-accept-to-other-xmpp-user-via-sip-proxy">1.2 Signaling session-accept to other XMPP user via SIP Proxy</h4>
<p>When the other user accepts the call invite sent by the first, the following sequence is executed.
This is a continuation of the <a href="#11-signaling-session-initiate-to-other-xmpp-user-via-sip-proxy">previous example</a></p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>+-------+                       +-------------+        +-----------+                   +-------+
| UserA |                       | MongooseIM  |        | SIPProxy  |                   | UserB |
+-------+                       +-------------+        +-----------+                   +-------+
    |                                  |                     |                             |
    |                                  |                     |     session-accpet to UserA |
    |                                  |&lt;--------------------------------------------------|
    |                                  |                     |   ------------------------\ |
    |                                  |                     |   | Jingle stanza         |-|
    |                                  |                     |   | action:session-accept | |
    |                                  |                     |   | sid: 456              | |
    |                                  | 200 OK              |   |-----------------------| |
    |                                  |--------------------&gt;|                             |
    |                                  | --------------\     |                             |
    |                                  |-| from: UserA |     |                             |
    |                                  | | to: UserB   |     |                             |
    |                                  | | sid: 456    |     |                             |
    |                                  | |-------------|     | find corresponding call     |
    |                                  |                     |------------------------     |
    |                                  |                     |                       |     |
    |                                  |                     |&lt;-----------------------     |
    |                                  |                     |                             |
    |                                  |              200 OK |                             |
    |                                  |&lt;--------------------|                             |
    |                                  |     --------------\ |                             |
    |                                  |     | from: UserA |-|                             |
    |                                  |     | to: UserB   | |                             |
    |                                  |     | sid: 123    | |                             |
    |        session-accept from UserB |     |-------------| |                             |
    |&lt;---------------------------------|                     |                             |
    |                                  |                     |                             |
</code></pre></div>
</td></tr></table>
<!---
object UserA MongooseIM SIPProxy UserB
UserB->MongooseIM: session-accpet to UserA
note left of UserB: Jingle stanza \n action:session-accept\nsid: 456
MongooseIM->SIPProxy: 200 OK
note right of MongooseIM:from: UserA\nto: UserB\nsid: 456
SIPProxy->SIPProxy: find corresponding call
SIPProxy->MongooseIM: 200 OK
note left of SIPProxy: from: UserA\nto: UserB\nsid: 123
MongooseIM->UserA: session-accept from UserB
-->

<h4 id="13-terminating-a-call">1.3 Terminating a call</h4>
<p>Any Jingle session (accepted or not) can be terminated by sending a Jingle stanza with action <code>session-terminate</code> and a reason.
In the SIP world it's more complex.
See the following examples for more information.</p>
<h5 id="131-terminating-an-accepted-call">1.3.1 Terminating an accepted call</h5>
<p>The easiest scenario is when the call was accepted as in <a href="#12-signaling-session-accept-to-other-xmpp-user-via-sip-proxy">1.2</a>.
In this case one of the users sends a <code>session-terminate</code> Jingle action with a reason <code>success</code>.
This is translated to a SIP <code>BYE</code> request with <code>to</code> and <code>from</code> headers set appropriately -
<code>from</code> is the user who wants to terminate the call and <code>to</code> is the user on the other end of the session.
The <code>BYE</code> request is sent to the SIP Proxy and then to the other user in a similar way to session acceptance.</p>
<h5 id="132-terminating-an-unanswered-call-by-initiator">1.3.2 Terminating an unanswered call by initiator</h5>
<p>To terminate the call before it's accepted, the initiator sends a Jingle <code>session-terminate</code> stanza with a reason <code>decline</code>.
Then MongooseIM translates this to a SIP <code>CANCEL</code> request which is sent to the SIP Proxy.</p>
<h5 id="133-rejecting-the-call">1.3.3 Rejecting the call</h5>
<p>When the invitee wants to terminate the call, on the XMPP level this is also a Jingle <code>session-terminate</code> stanza with a reason <code>decline</code>.
MongooseIM translates this to SIP <code>486 Busy Here</code> <strong>Response</strong> (because this is a response to the invite request).</p>
<h3 id="2-establishing-a-session-with-a-sip-user">2. Establishing a session with a SIP user</h3>
<p>Establishing a session with a SIP user (or a SIP entity) works the same as in the previous section.
The only difference is that the SIP Proxy will not call MongooseIM back (as it may happen for call to other XMPP user).
Instead the SIP message sent by MongooseIM to SIP Proxy will be delivered directly to the SIP user's device.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../mod_inbox/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                mod_inbox
              </div>
            </div>
          </a>
        
        
          <a href="../mod_keystore/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                mod_keystore
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.18f0862e.min.js"></script>
      <script src="../../assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../js/version-select.js"></script>
      
    
  </body>
</html>