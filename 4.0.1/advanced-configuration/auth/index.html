<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../favicon.ico">
  
  <title>Options: Auth - MongooseIM</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../../custom.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Options: Auth";
    var mkdocs_page_input_path = "advanced-configuration/auth.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> MongooseIM</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">User guide</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/Get-to-know-MongooseIM/">ABCs of MongooseIM</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/MongooseIM-High-level-Architecture/">High-level Architecture</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/Features-and-supported-standards/">Features and supported standards</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/Getting-started/">Getting started</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/release_config/">Release/Installation configuration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/Bootstrap-Scripts/">Bootstrap scripts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/client-certificate/">Client certificate authentication</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Tutorials</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/How-to-build/">How to Build MongooseIM from source code</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/push-notifications/Push-notifications/">How to Set up Push Notifications</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/push-notifications/Push-notifications-client-side/">How to Set up Push Notifications on the client side</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/push-notifications/With-MongoosePush/">How to Set up MongoosePush</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/ICE_tutorial/">How to Set up MongooseICE</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/iOS_tutorial/">How to Build an iOS messaging app</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../user-guide/Jingle-SIP-setup/">How to Set up Jingle/SIP</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Migration Guide</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../migrations/3.1.1_3.2.0/">3.1.1 to 3.2.0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../migrations/3.3.0_3.4.0/">3.3.0 to 3.4.0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../migrations/3.5.0_3.6.0/">3.5.0 to 3.6.0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../migrations/3.6.0_3.7.0/">3.6.0 to 3.7.0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../migrations/3.7.0_4.0.0/">3.7.0 to 4.0.0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../migrations/4.0.0_4.0.1/">4.0.0 to 4.0.1</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../migrations/jid-from-mam-muc-script/">MAM MUC migration helper</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Platform</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Contributions/">Contributions to ecosystem</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Differentiators/">Differentiators</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../History/">History</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Configuration</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../../Advanced-configuration/">Configuration files</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../general/">Options: General</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../listen/">Options: Listen</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Options: Auth</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#authmethods">auth.methods</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#authsasl_mechanisms">auth.sasl_mechanisms</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#authentication-method-capabilities">Authentication method capabilities</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#authsasl_external">auth.sasl_external</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#password-related-options">Password-related options</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#authpasswordformat">auth.password.format</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#authpasswordhash">auth.password.hash</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#authscram_iterations">auth.scram_iterations</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#example">Example</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../outgoing-connections/">Options: Outgoing connections</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Services/">Options: Services</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Modules/">Options: Extension Modules</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../shaper/">Options: Shaper</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../acl/">Options: Acl</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../access/">Options: Access</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../s2s/">Options: S2S</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../host_config/">Options: Host config</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../release-options/">Release options</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Erlang-cookie-security/">Erlang Cookie Security</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../TLS-hardening/">TLS hardening</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../database-backends-configuration/">Database backends configuration</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Authentication methods</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-methods/rdbms/">RDBMS</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-methods/external/">External</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-methods/anonymous/">Anonymous</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-methods/ldap/">LDAP</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-methods/jwt/">JWT</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-methods/riak/">Riak</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-methods/http/">HTTP</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-methods/pki/">PKI</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-methods/dummy/">Dummy</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">MongooseIM open XMPP extensions</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../open-extensions/muc_light/">MUC light</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../open-extensions/token-reconnection/">Token-based reconnection</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">REST API</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../rest-api/Client-frontend/">Client/frontend</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../rest-api/Metrics-backend/">Metrics backend</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../rest-api/Administration-backend/">Administration backend</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Operation and maintenance</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/gdpr-considerations/">GDPR considerations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Cluster-management-considerations/">Cluster management considerations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Cluster-configuration-and-node-management/">Cluster configuration and node management</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Logging-%26-monitoring/">Logging & monitoring</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Logging/">Logging configuration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Logging-fields/">Logging fields</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Reloading-configuration-on-a-running-system/">Reloading configuration on a running system</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Mongoose-metrics/">Metrics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/System-Metrics-Privacy-Policy/">System Metrics Privacy Policy</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/tls-distribution/">Distribution over TLS</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/known-issues/">Known issues</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Developer's guide</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/Testing-MongooseIM/">Testing MongooseIM</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/logging/">Logging</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/Hooks-and-handlers/">Hooks and Handlers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/hooks_description/">Hooks description</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/message_routing/">Stanza routing</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/accumulators/">Accumulators</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/flat_options/">Flat options format</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/Moving-to-single-app-project-structure/">Moving to single app project structure</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/mod_amp_developers_guide/">mod_amp development</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/mod_muc_light_developers_guide/">mod_muc_light developers doc</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/SCRAM-serialization/">SCRAM serialization format</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/xep_tool/">xep-tool usage</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/OpenSSL-and-FIPS/">FIPS mode</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/Basic-iq-handler/">Basic IQ Handler</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/mongoose_wpool/">mongoose_wpool</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Module index</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_adhoc/">mod_adhoc</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_amp/">mod_amp</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_auth_token/">mod_auth_token</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_blocking/">mod_blocking</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_bosh/">mod_bosh</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_caps/">mod_caps</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_carboncopy/">mod_carboncopy</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_commands/">mod_commands</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_csi/">mod_csi</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_inbox/">mod_inbox</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_disco/">mod_disco</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_global_distrib/">mod_global_distrib</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">mod_event_pusher</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/mod_event_pusher/">mod_event_pusher</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/mod_event_pusher_http/">HTTP backend</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/mod_event_pusher_push/">Push backend</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/mod_event_pusher_sns/">SNS backend</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/mod_event_pusher_rabbit/">RabbitMQ backend</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_extdisco/">mod_extdisco</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_http_upload/">mod_http_upload</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_jingle_sip/">mod_jingle_sip</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_keystore/">mod_keystore</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_last/">mod_last</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_mam/">mod_mam</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_muc/">mod_muc</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_muc_commands/">mod_muc_commands</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_muc_log/">mod_muc_log</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_muc_light/">mod_muc_light</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_muc_light_commands/">mod_muc_light_commands</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_offline/">mod_offline</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_offline_stub/">mod_offline_stub</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_ping/">mod_ping</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_privacy/">mod_privacy</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_private/">mod_private</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_pubsub/">mod_pubsub</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_push_service_mongoosepush/">mod_push_service_mongoosepush</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_register/">mod_register</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_roster/">mod_roster</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_shared_roster_ldap/">mod_shared_roster_ldap</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_sic/">mod_sic</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_stream_management/">mod_stream_management</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_time/">mod_time</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_vcard/">mod_vcard</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_version/">mod_version</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">MongooseIM</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Configuration &raquo;</li>
        
      
    
    <li>Options: Auth</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>The <code>auth</code> section is used to choose and configure the <strong>methods</strong> which are used by MongooseIM to authenticate connecting users.
The following methods are supported:</p>
<ul>
<li><code>internal</code> - stores the user accounts in an internal Mnesia database,</li>
<li><a href="../../authentication-methods/rdbms/"><code>rdbms</code></a> - stores the user accounts in a SQL database,</li>
<li><a href="../../authentication-methods/external/"><code>external</code></a> - uses an external program to authenticate the user,</li>
<li><a href="../../authentication-methods/anonymous/"><code>anonymous</code></a> - allows anonymous connections,</li>
<li><a href="../../authentication-methods/ldap/"><code>ldap</code></a> - checks the user credentials in LDAP,</li>
<li><a href="../../authentication-methods/jwt/"><code>jwt</code></a> - authenticates the users with JSON Web Tokens,</li>
<li><a href="../../authentication-methods/riak/"><code>riak</code></a> - stores the user accounts in a Riak database,</li>
<li><a href="../../authentication-methods/http/"><code>http</code></a> - uses an external HTTP service to authenticate the user,</li>
<li><a href="../../authentication-methods/pki/"><code>pki</code></a> - uses the certificate provided by the user to authenticate them,</li>
<li><a href="../../authentication-methods/dummy/"><code>dummy</code></a> - no authentication, only for development and testing.</li>
</ul>
<p>To enable user connections, you need to set up at least one of the methods listed above (see <code>auth.methods</code> below).
Some methods have more complex setup procedures - the method names above are links to their descriptions,
which list their specific configuration options. The general options are described below.</p>
<h1 id="general-options">General Options</h1>
<p>The options listed here are used to configure the authentication methods.</p>
<h3 id="authmethods"><code>auth.methods</code></h3>
<ul>
<li><strong>Syntax:</strong> array of strings. Allowed values: <code>"internal"</code>, <code>"rdbms"</code>, <code>"external"</code>, <code>"anonymous"</code>, <code>"ldap"</code>, <code>"jwt"</code>, <code>"riak"</code>, <code>"http"</code>, <code>"pki"</code>, <code>"dummy"</code></li>
<li><strong>Default:</strong> not set</li>
<li><strong>Example:</strong> <code>methods = ["internal", "anonymous"]</code></li>
</ul>
<p>Specifies the methods used to authenticate connecting users. Methods from the list are queried one after another until one of them replies positively. By default there are no methods, so nobody can authenticate.</p>
<p><strong>Warning:</strong> Make sure that the compatible SASL mechanisms are enabled, see <a href="#authentication-method-capabilities">capabilities</a>.</p>
<h3 id="authsasl_mechanisms"><code>auth.sasl_mechanisms</code></h3>
<ul>
<li><strong>Syntax:</strong> array of strings. Allowed values: <code>"scram_sha512_plus"</code>, <code>"scram_sha512"</code>, <code>"scram_sha384_plus"</code>, <code>"scram_sha384"</code>, <code>"scram_sha256_plus"</code>, <code>"scram_sha256"</code>, <code>"scram_sha224_plus"</code>, <code>"scram_sha224"</code>, <code>"scram_sha1_plus"</code>, <code>"scram_sha1"</code>, <code>"plain"</code>, <code>"anonymous"</code>, <code>"oauth"</code>, <code>"external"</code>, <code>"digest"</code></li>
<li><strong>Default:</strong> <code>["scram_sha512_plus", "scram_sha512", "scram_sha384_plus", "scram_sha384", "scram_sha256_plus", "scram_sha256", "scram_sha224_plus", "scram_sha224", "scram_sha1_plus", "scram_sha1", "plain", "anonymous", "oauth"]</code></li>
<li><strong>Example:</strong> <code>sasl_mechanisms = ["external", "plain"]</code></li>
</ul>
<p>Specifies the list of allowed SASL mechanisms, which are announced during stream negotiation and eventually enforced (users can't pick a mechanism not listed here).</p>
<p><strong>Notes:</strong></p>
<ul>
<li>This list is still filtered by <a href="#authentication-method-capabilities">capabilities</a>.</li>
<li>Configuring the <code>sasl_mechanisms</code> replaces the default list entirely.</li>
<li>The order in which the mechanisms are listed in the config will be taken as the order in which they are advertised.</li>
<li>All <code>SCRAM-SHA-*</code> mechanisms (specified as <code>scram_sha*</code>) have their counterparts which support channel binding and are advertised as separate authentication mechanisms suffixed by <code>-PLUS</code> (specified as <code>scram_sha*_plus</code>).</li>
<li>The <code>DIGEST-MD5</code> mechanism (specified as <code>digest</code>) is deprecated and will be removed in the next release.</li>
</ul>
<h4 id="authentication-method-capabilities">Authentication method capabilities</h4>
<p>The table below shows the supported SASL mechanisms (columns) for each authentication method (row).</p>
<table>
<thead>
<tr>
<th></th>
<th align="center">plain</th>
<th align="center">digest</th>
<th align="center">scram_sha*</th>
<th align="center">anonymous</th>
<th align="center">external</th>
</tr>
</thead>
<tbody>
<tr>
<td>internal</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td>rdbms</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td>external</td>
<td align="center">x</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td>anonymous</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center"></td>
</tr>
<tr>
<td>ldap</td>
<td align="center">x</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">x</td>
</tr>
<tr>
<td>jwt</td>
<td align="center">x</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td>riak</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td>http</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td>pki</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">x</td>
</tr>
</tbody>
</table>
<h3 id="authsasl_external"><code>auth.sasl_external</code></h3>
<ul>
<li><strong>Syntax:</strong> list of strings, allowed values: <code>"standard"</code>, <code>"common_name"</code>, <code>"auth_id"</code></li>
<li><strong>Default:</strong> <code>["standard"]</code></li>
<li><strong>Example:</strong> <code>sasl_external = ["standard", "common_name"]</code></li>
</ul>
<p>There are three possible ways of using the <code>SASL EXTERNAL</code> mechanism:</p>
<ul>
<li><code>standard</code> - do not accept a certificate with no <code>xmpp_addrs</code> field (default),</li>
<li><code>common_name</code> - use the <code>common_name</code> field if it is provided in the certificate,</li>
<li><code>auth_id</code> - accept a certificate without <code>xmpp_addrs</code> and use the user identity from the authentication request.</li>
</ul>
<p>This option allows you to list the enabled ones in the order of preference (they are tried until one succeeds or the list is exhausted).</p>
<h2 id="password-related-options">Password-related options</h2>
<p>These options are common to the <code>http</code>, <code>rdbms</code>, <code>internal</code> and <code>riak</code> methods.</p>
<h3 id="authpasswordformat"><code>auth.password.format</code></h3>
<ul>
<li><strong>Syntax:</strong> string, one of: <code>"plain"</code>, <code>"scram"</code></li>
<li><strong>Default:</strong> <code>"scram"</code></li>
<li><strong>Example:</strong> <code>password.format = "plain"</code></li>
</ul>
<p>Decide whether user passwords will be kept plain or hashed in the database.
Currently, popular XMPP clients support the SCRAM method and it is strongly recommended to use the hashed version.
The older XMPP clients can still use the <code>PLAIN</code> mechanism.</p>
<p><strong>Note:</strong> The <code>DIGEST-MD5</code> mechanism is not available with the <code>scram</code> password format.</p>
<h3 id="authpasswordhash"><code>auth.password.hash</code></h3>
<ul>
<li><strong>Syntax:</strong> list of strings, allowed values: <code>"sha"</code>, <code>"sha224"</code>, <code>"sha256"</code>, <code>"sha384"</code>, <code>"sha512"</code></li>
<li><strong>Default:</strong> not set - all hash functions supported</li>
<li><strong>Example:</strong> <code>password.hash = ["sha384", "sha512"]</code></li>
</ul>
<p>MongooseIM supports SHA-1, SHA-224, SHA-256, SHA-384 and SHA-512 for SCRAM hashing.
You can use this option to limit the supported hash functions by listing them explicitly.
The value <code>"sha"</code> stands for the SHA-1 algorithm.</p>
<h3 id="authscram_iterations"><code>auth.scram_iterations</code></h3>
<ul>
<li><strong>Syntax:</strong> positive integer</li>
<li><strong>Default:</strong> 10000,  as recommended in this <a href="https://xmpp.org/extensions/xep-0438.html#pbkdf2">XEP</a> and this <a href="https://pages.nist.gov/800-63-3/sp800-63b.html#sec5">NIST Guidelines</a></li>
<li><strong>Example:</strong> <code>scram_iterations = 20_000</code></li>
</ul>
<p>Hash function round count.
This is a tradeoff between latency and security.
The higher the value, the more difficult breaking the hashes is: increasing the count increases the work it requires to compute a full derivation, which effectively slows down brute-force attacks.
But it adds load on both client and server, so this parameter should be tuned as high as the business-rules allow.
Note that increasing the security of a password has a higher impact over the security of the algorithm, without impacting its load.
See more information in this <a href="https://csrc.nist.gov/publications/detail/sp/800-132/final">NIST guide, Appendix A.2.2</a></p>
<h2 id="example">Example</h2>
<p>This minimal authentication setup uses the internal Mnesia database to store users and their passwords:</p>
<pre><code class="language-toml">[auth]
  methods = [&quot;internal&quot;]
</code></pre>
<p>According to the <a href="#authentication-method-capabilities">capabilities</a> of the <code>internal</code> method, the <code>PLAIN</code>, <code>DIGEST-MD5</code> and <code>SCRAM-SHA-*</code> mechanisms will be supported.</p>
<p>However, for production systems other methods like <code>rdbms</code> are recommended, as using an external database offers easier maintenance, flexibility, scalability and configurability in a typical setup.</p>
<h1 id="method-specific-options">Method-specific options</h1>
<p>See the links below for options related to the particular methods:</p>
<ul>
<li><a href="../../authentication-methods/anonymous/#configuration-options">Anonymous method options</a></li>
<li><a href="../../authentication-methods/external/#configuration-options">External method options</a></li>
<li><a href="../../authentication-methods/ldap/#configuration-options">LDAP method options</a></li>
<li><a href="../../authentication-methods/jwt/#configuration-options">JWT method options</a></li>
<li><a href="../../authentication-methods/riak/#configuration-options">Riak method options</a></li>
<li><a href="../../authentication-methods/http/#configuration-options">HTTP method options</a></li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../outgoing-connections/" class="btn btn-neutral float-right" title="Options: Outgoing connections">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../listen/" class="btn btn-neutral" title="Options: Listen"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../listen/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../outgoing-connections/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
