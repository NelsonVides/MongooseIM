<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../favicon.ico">
  
  <title>Getting started - MongooseIM</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../../custom.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Getting started";
    var mkdocs_page_input_path = "user-guide/Getting-started.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> MongooseIM</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">User guide</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../Get-to-know-MongooseIM/">ABCs of MongooseIM</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../MongooseIM-High-level-Architecture/">High-level Architecture</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Features-and-supported-standards/">Features and supported standards</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Getting started</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#download-a-package">Download a package</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ubuntu-and-debian">Ubuntu and Debian</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#centos">CentOS</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../release_config/">Release/Installation configuration</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Tutorials</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../How-to-build/">How to Build MongooseIM from source code</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Push-notifications/">How to Set up MongoosePush</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ICE_tutorial/">How to Set up MongooseICE</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../iOS_tutorial/">How to Build an iOS messaging app</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Jingle-SIP-setup/">How to Set up Jingle/SIP</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Migration Guide</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../migrations/3.1.1_3.2.0/">3.1.1 to 3.2.0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../migrations/3.3.0_3.4.0/">3.3.0 to 3.4.0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../migrations/jid-from-mam-muc-script/">MAM MUC migration helper</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Platform</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Contributions/">Contributions to ecosystem</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Differentiators/">Differentiators</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../History/">History</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Configuration</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Basic-configuration/">Basic Configuration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Erlang-cookie-security/">Erlang Cookie Security</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Advanced-configuration/">Advanced Configuration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../advanced-configuration/TLS-hardening/">TLS hardening</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../advanced-configuration/database-backends-configuration/">Database backends configuration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../advanced-configuration/outgoing-connections/">Outgoing connections</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../advanced-configuration/Modules/">Extension Modules</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../advanced-configuration/Listener-modules/">Listener Modules</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../advanced-configuration/acl/">ACL</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../advanced-configuration/Services/">Services</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Authentication methods</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-methods/client-certificate/">Client Certificate</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Authentication backends</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-backends/External-authentication-module/">External Authentication Module</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-backends/HTTP-authentication-module/">HTTP Authentication Module</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-backends/JWT-authentication-module/">JWT Authentication Module</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-backends/LDAP-authentication-module/">LDAP Authentication Module</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../authentication-backends/PKI-authentication-module/">PKI Authentication Module</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">MongooseIM open XMPP extensions</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../open-extensions/muc_light/">MUC light</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../open-extensions/token-reconnection/">Token-based reconnection</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">REST API</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../rest-api/Client-frontend/">Client/frontend</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../rest-api/Metrics-backend/">Metrics backend</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../rest-api/Administration-backend/">Administration backend</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Operation and maintenance</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/gdpr-considerations/">GDPR considerations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Cluster-management-considerations/">Cluster management considerations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Cluster-configuration-and-node-management/">Cluster configuration and node management</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Logging-%26-monitoring/">Logging & monitoring</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Reloading-configuration-on-a-running-system/">Reloading configuration on a running system</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/Mongoose-metrics/">Metrics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/tls-distribution/">Distribution over TLS</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../operation-and-maintenance/known-issues/">Known issues</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Developer's guide</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/Testing-MongooseIM/">Testing MongooseIM</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/logging/">Logging</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/Hooks-and-handlers/">Hooks and Handlers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/hooks_description/">Hooks description</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/message_routing/">Stanza routing</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/accumulators/">Accumulators</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/flat_options/">Flat options format</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/Moving-to-single-app-project-structure/">Moving to single app project structure</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/mod_amp_developers_guide/">mod_amp development</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/mod_muc_light_developers_guide/">mod_muc_light developers doc</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/SCRAM-serialization/">SCRAM serialization format</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/xep_tool/">xep-tool usage</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/OpenSSL-and-FIPS/">FIPS mode</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/Basic-iq-handler/">Basic IQ Handler</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../developers-guide/mongoose_wpool/">mongoose_wpool</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Module index</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_adhoc/">mod_adhoc</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_amp/">mod_amp</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_auth_token/">mod_auth_token</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_blocking/">mod_blocking</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_bosh/">mod_bosh</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_caps/">mod_caps</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_carboncopy/">mod_carboncopy</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_commands/">mod_commands</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_csi/">mod_csi</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_inbox/">mod_inbox</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_disco/">mod_disco</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_global_distrib/">mod_global_distrib</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">mod_event_pusher</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/mod_event_pusher/">mod_event_pusher</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/mod_event_pusher_http/">HTTP backend</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/mod_event_pusher_push/">Push backend</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/mod_event_pusher_sns/">SNS backend</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/mod_event_pusher_rabbit/">RabbitMQ backend</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_http_upload/">mod_http_upload</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_jingle_sip/">mod_jingle_sip</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_keystore/">mod_keystore</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_last/">mod_last</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_mam/">mod_mam</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_muc/">mod_muc</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_muc_commands/">mod_muc_commands</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_muc_log/">mod_muc_log</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_muc_light/">mod_muc_light</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_muc_light_commands/">mod_muc_light_commands</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_offline/">mod_offline</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_offline_stub/">mod_offline_stub</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_ping/">mod_ping</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_privacy/">mod_privacy</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_private/">mod_private</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_pubsub/">mod_pubsub</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_push_service_mongoosepush/">mod_push_service_mongoosepush</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_register/">mod_register</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_revproxy/">mod_revproxy</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_roster/">mod_roster</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_shared_roster_ldap/">mod_shared_roster_ldap</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_sic/">mod_sic</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_stream_management/">mod_stream_management</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_time/">mod_time</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_vcard/">mod_vcard</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/mod_version/">mod_version</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">MongooseIM</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>User guide &raquo;</li>
        
      
    
    <li>Getting started</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>In this short guide we will set MongooseIM up and get users chatting right away.
The goal is to get to know MongooseIM, set it up, go through basic operations and validation.</p>
<p>Warning: This setup is not intended for production.</p>
<p>Note: This procedure has been tested on an Ubuntu 18.04.x LTS.</p>
<h2 id="installation">Installation</h2>
<p>We recommend, you install mongooseIM binaries from a package Erlang Solutions delivers.</p>
<p>Alternatively, check out our tutorial on <a href="../How-to-build/">How to build MongooseIM from source code</a> for an introduction to compiling, building and testing MongooseIM.</p>
<h3 id="download-a-package">Download a package</h3>
<p>Go to the <a href="https://www.erlang-solutions.com/resources/download.html">downloads</a> section of the Erlang Solutions website, and choose the version of MongooseIM you want. The following sections describe the installation process for different operating systems.</p>
<h3 id="ubuntu-and-debian">Ubuntu and Debian</h3>
<p>Once the deb file is downloaded, open a terminal window and navigate to the directory containing the package. Use the following command to unpack and install MongooseIM:</p>
<pre><code class="language-bash">sudo dpkg -i mongooseim_[version here].deb
</code></pre>
<h3 id="centos">CentOS</h3>
<p>An ODBC (RDBMS) driver must be installed on your machine to unpack and install from RPM packages. Enter the following command in a terminal window to install the latest unixODBC driver:</p>
<pre><code class="language-bash">sudo yum install unixODBC
</code></pre>
<p>Once the RPM file is downloaded, open a terminal window and navigate to the directory containing the package. Use the following command to unpack and install MongooseIM:</p>
<pre><code class="language-bash">sudo rpm -i mongooseim_[version here].rpm
</code></pre>
<h2 id="running-mongooseim">Running MongooseIM</h2>
<p>Warning: MongooseIM will use its default database - Mnesia, which is faster and simpler to setup, but not intended for production purposes when it comes to persistent data.</p>
<p>Note: It is possible at anytime to use external databases. For more information see the end of this guide.</p>
<p>The following command will start the MongooseIM server:</p>
<pre><code class="language-bash">mongooseimctl start
</code></pre>
<p>When you change the config file and want to restart the MongooseIM server:</p>
<pre><code class="language-bash">mongooseimctl restart
</code></pre>
<p>Use the following command to stop the MongooseIM server:</p>
<pre><code class="language-bash">mongooseimctl stop
</code></pre>
<p>This takes a few seconds.</p>
<p>At any given time, the following command shows the status of a MongooseIM server:</p>
<pre><code class="language-bash">mongooseimctl status
</code></pre>
<p>If the command replies <code>nodedown</code> then MongooseIM is not running. Else it will show its status <code>starting</code>, <code>started</code>, or <code>stopping</code>, and its version.</p>
<p>When needed, you can also launch the server in the interactive mode:</p>
<pre><code class="language-bash">mongooseimctl live
</code></pre>
<p>This will allow you to better detect and understand the errors in the configuration.
When MongooseIM is properly running, the Erlang shell/console is then shown.
Just type Control-C twice to exit, the server will then be shut down.</p>
<p>For running MongooseIM in a non-interactive way within a supervision system (e.g. systemd), it is recommended to use the foreground mode:</p>
<pre><code class="language-bash">mongooseimctl foreground
</code></pre>
<p>Typing Control-C will stop the server.</p>
<p>You can check server loglevel:</p>
<pre><code class="language-bash">mongooseimctl get_loglevel
</code></pre>
<h2 id="chat-users">Chat users</h2>
<h3 id="registering-creating-users">Registering (creating) users</h3>
<p>The default XMPP domain served by MongooseIM right after installation is <code>localhost</code>.</p>
<p>You can register (create) users with the <code>mongooseimctl</code> utility.</p>
<p>This command registers the user <code>user@domain</code> using password <code>password</code>.</p>
<pre><code class="language-bash">mongooseimctl register_identified user domain password
</code></pre>
<p>Examples:</p>
<pre><code class="language-bash">mongooseimctl register_identified alice localhost qwerty
mongooseimctl register_identified bob localhost 12345678
mongooseimctl register_identified carol localhost abc123
mongooseimctl register_identified dan localhost dan
</code></pre>
<p>Warning: The password is entered manually in the command line and history is accessible to the command line users. This method is not recommended for production use, you may prefer for example LDAP.</p>
<p>You can check that it has correctly been created:</p>
<pre><code class="language-bash">mongooseimctl check_account user host
</code></pre>
<p>Example:</p>
<pre><code class="language-bash">mongooseimctl check_account alice localhost
mongooseimctl check_account bob localhost
mongooseimctl check_account carol localhost
mongooseimctl check_account dan localhost
</code></pre>
<p>Now you can list all registered users in your host:</p>
<pre><code class="language-bash">mongooseimctl registered_users host
</code></pre>
<p>Example:</p>
<pre><code class="language-bash">mongooseimctl registered_users localhost
</code></pre>
<p>If you want delete users in your host:</p>
<pre><code class="language-bash">mongooseimctl  unregister user host
</code></pre>
<p>Example:</p>
<pre><code class="language-bash">mongooseimctl  unregister dan localhost
</code></pre>
<h3 id="populate-the-contact-lists-rosters">Populate the contact lists (rosters)</h3>
<p>Fo a given user (<code>localuser</code> and <code>localserver</code>), add a contact (<code>user</code> and <code>server</code>):</p>
<pre><code class="language-bash">mongooseimctl add_rosteritem localuser localserver user server nick group subs 
</code></pre>
<p>Examples:</p>
<pre><code class="language-bash">mongooseimctl add_rosteritem alice localhost bob localhost bob friends both
mongooseimctl add_rosteritem bob localhost alice localhost alice friends both
</code></pre>
<p>Note: The <code>subs</code>parameter is the "subscription" to a user's presence. Possible values are: <code>none</code>, <code>from</code>, <code>to</code>, or <code>both</code>. A subscription in <code>both</code> direction means each user will receive each other's presence.</p>
<p>Verify the contact list:</p>
<pre><code class="language-bash">mongooseimctl get_roster user host 
</code></pre>
<p>Examples:</p>
<pre><code class="language-bash">mongooseimctl get_roster alice localhost
mongooseimctl get_roster bob localhost
mongooseimctl get_roster carol localhost
</code></pre>
<h2 id="basic-mongooseim-configuration">Basic MongooseIM configuration</h2>
<p>You can edit the <code>mongooseim.cfg</code> file:</p>
<pre><code class="language-bash">/etc/mongooseim/mongooseim.cfg 
</code></pre>
<p>Warning: We recommend you do not touch the advanced settings at this stage.</p>
<p>For each change, edit the configuration file using the right Linux/Unix user.
Save (and optionally backup, archive, or version) the configuration file and restart the MongooseIM server.</p>
<h3 id="logging">Logging</h3>
<p>Change your own loglevel in the configuration file:</p>
<pre><code class="language-erlang">% {loglevel, 3}.
{loglevel, 4}.
</code></pre>
<p>Save and exit your editor, restart MongooseIM and check your loglevel from the command line:</p>
<pre><code class="language-bash">mongooseimctl get_loglevel
</code></pre>
<p>Read the <code>ejabberd.log</code> file:</p>
<pre><code class="language-bash">/var/log/mongooseim/ejabberd.log
</code></pre>
<p>You can use commands such <code>cat</code>, <code>more</code> or <code>less</code>, even <code>head</code> or <code>tail</code>.
In order to see live logs:</p>
<pre><code class="language-bash">tail -f /var/log/mongooseim/ejabberd.log
</code></pre>
<p>Type <code>Ctrl+C</code> to exit.</p>
<h3 id="muc-multi-user-chat-for-groupchats">MUC (Multi-User Chat) for groupchats</h3>
<p>Enable MUC, or Multi-User Chat, for groupchats/channels in the <code>mongooseim.cfg</code> file:</p>
<pre><code class="language-erlang">{mod_muc, [{host, &quot;muc.@HOST@&quot;},
           {access, muc},
           {access_create, muc_create}
          ]},
</code></pre>
<p>Verify with:</p>
<pre><code class="language-bash">mongooseimctl print_flat_config | grep muc
{[h,&lt;&lt;&quot;localhost&quot;&gt;&gt;,module,mod_muc_commands],'FLAT'}.
{[h,&lt;&lt;&quot;localhost&quot;&gt;&gt;,module,mod_muc_light_commands],'FLAT'}.
{[h,&lt;&lt;&quot;localhost&quot;&gt;&gt;,module,mod_muc],'FLAT'}.
{[h,&lt;&lt;&quot;localhost&quot;&gt;&gt;,module_opt,mod_muc,host],&quot;muc.@HOST@&quot;}.
{[h,&lt;&lt;&quot;localhost&quot;&gt;&gt;,module_opt,mod_muc,access],muc}.
{[h,&lt;&lt;&quot;localhost&quot;&gt;&gt;,module_opt,mod_muc,access_create],muc_create}.
</code></pre>
<h3 id="roster-versioning">Roster versioning</h3>
<p>For faster contact list downloads at each client/app (re)connection, edit the configuration file:</p>
<pre><code class="language-erlang">{mod_roster, [
              {versioning, true},
              {store_current_id, true}
             ]},
</code></pre>
<p>Verify with:</p>
<pre><code class="language-bash">mongooseimctl print_flat_config | grep roster
 [{service_admin_extra,[{submods,[node,accounts,sessions,vcard,gdpr,roster,
{[h,&lt;&lt;&quot;localhost&quot;&gt;&gt;,module,mod_roster],'FLAT'}.
{[h,&lt;&lt;&quot;localhost&quot;&gt;&gt;,module_opt,mod_roster,versioning],true}.
{[h,&lt;&lt;&quot;localhost&quot;&gt;&gt;,module_opt,mod_roster,store_current_id],true}.
</code></pre>
<h3 id="review-configuration">Review configuration</h3>
<p>Read and double-check your configuration in a different way, after starting MongooseIM:</p>
<pre><code class="language-bash">mongooseimctl print_flat_config
</code></pre>
<p>If MongooseIM does not start because the configuration file is broken in some way:</p>
<pre><code class="language-bash">mongooseimctl live
</code></pre>
<h2 id="using-an-xmppjabber-clientapp">Using an XMPP/Jabber client/app</h2>
<p>The following steps use the registered users on the MongooseIM server, done above.</p>
<p>Users that are registered on your server can now add their accounts in a chat application like Gajim (specifying either the server’s IP address or domain name), and start chatting!</p>
<h3 id="connect-gajim">Connect Gajim</h3>
<p>Gajim is available on Ubuntu, CentOS &amp; Windows.</p>
<p>Warning: Gajim has an obsolete UX. However, it is still well maintained, and has a console that is extremely useful for debugging and testing/validation purposes at the XMPP protocol level.</p>
<ol>
<li>Launch Gajim. Ignore the window with Plugin updates.</li>
<li>Go to Edit -&gt; Accounts.</li>
<li>Click <strong>Add</strong> in the left part of the window and select <strong>I already have an account I want to use</strong>, click <strong>Forward</strong></li>
<li>Enter the <strong>user</strong>, <strong>domain</strong> and <strong>password</strong> for the accounts registered previously on the command line</li>
<li>Click <strong>Forward</strong> and then <strong>Finish</strong></li>
<li>Ignore the TLS/SSL error/warning and continue</li>
<li>Close the Account window.</li>
</ol>
<p>Add your three created users: <code>alice</code>, <code>bob</code>, and <code>carol</code>.</p>
<p>Check what users are currently connected:</p>
<pre><code class="language-bash">mongooseimctl connected_users_info
</code></pre>
<h3 id="chat-with-another-person">Chat with another person</h3>
<p>Use <code>alice</code>'s account to send messages directly to <code>bob</code> and use <code>bob</code>'s account to reply directly to <code>alice</code>.</p>
<p>From the MongooseIM command line:</p>
<pre><code class="language-bash">mongooseimctl send_message_chat from to body
</code></pre>
<p>Examples:</p>
<pre><code class="language-bash">mongooseimctl send_message_chat carol@localhost alice@localhost hello
mongooseimctl send_message_chat carol@localhost bob@localhost hi
</code></pre>
<h3 id="group-chats">Group chats</h3>
<p>Use <code>alice</code>'s account to create a groupchat <code>channel</code> on your <code>muc.localhost</code> service, and configure it by making it persistent. Invite <code>bob</code> and <code>carol</code>. From <code>bob</code>'s' and <code>carol</code>'s accounts, accept the invitation and join the <code>channel</code> groupchat. All three users exchange messages.</p>
<h3 id="contact-lists">Contact lists</h3>
<p>Use <code>carol</code>'s account to add <code>alice</code> and <code>bob</code> to her contact list. Use <code>alice</code>'s and <code>bob</code>'s accounts accept those additions.</p>
<p>Verify on the MongooseIM server:</p>
<pre><code>mongooseimctl get_roster user host
</code></pre>
<p>Examples:</p>
<pre><code>mongooseimctl get_roster alice localhost
mongooseimctl get_roster bob localhost
mongooseimctl get_roster carol localhost
</code></pre>
<h3 id="profile-vcard">Profile (vCard)</h3>
<p>Edit <code>alice</code>'s profile (vCard) in Gajim: <strong>Modify Account...</strong>, then <strong>Profile</strong>, just set her <strong>Name</strong> to <code>Alice</code>.</p>
<p>Verify on the MongooseIM server:</p>
<pre><code class="language-bash">mongooseimctl get_vcard alice localhost FN
</code></pre>
<h2 id="summary">Summary</h2>
<p>Now you have the minimum knowledge: you know how to deploy MongooseIM, configure some basic features, check/verify a few useful items, validate it both on the client and server side, and utilize a few good practices.</p>
<h3 id="summary-command-line">Summary: command line</h3>
<p>You know <code>mongooseimctl</code>, with commands such as:</p>
<ul>
<li><code>start</code>, <code>restart</code>, <code>stop</code>, <code>status</code>, <code>live</code>, <code>foreground</code></li>
<li><code>get_loglevel</code></li>
<li><code>register_identified</code>, <code>check_account</code>, <code>registered_users</code>, <code>unregister</code></li>
<li><code>add_rosteritem</code>, <code>get_roster</code></li>
<li><code>print_flat_config</code></li>
</ul>
<p>You can even run <code>mongooseimctl</code> without arguments for a list of available commands.</p>
<h3 id="summary-files">Summary: files</h3>
<p>You know basic entries in files:
<code>/etc/mongooseim/mongooseim.cfg</code>
<code>/var/log/mongooseim/ejabberd.log</code></p>
<h3 id="summary-clientapp">Summary: client/app</h3>
<p>In an app, you know how to:</p>
<ul>
<li>connect</li>
<li>chat with another user</li>
<li>create/join groupchats</li>
<li>manage contact lists (roster)</li>
<li>edit profile (vCard)</li>
</ul>
<h2 id="go-further">Go further</h2>
<p>For the next steps, we now encourage you to:</p>
<ol>
<li>Deploy it as a single node, on a publicly accessible server, with a real routable domain name with its certificate</li>
<li>Add an RDBMS for persistent data, and LDAP for user directory</li>
<li>Enable message history with MAM (Message Archive Management)</li>
<li>Enable file exchange with HTTP file upload, with an S3-compatible object storage server</li>
<li>Use a mobile app for users to chat</li>
</ol>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../release_config/" class="btn btn-neutral float-right" title="Release/Installation configuration">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Features-and-supported-standards/" class="btn btn-neutral" title="Features and supported standards"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Features-and-supported-standards/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../release_config/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
